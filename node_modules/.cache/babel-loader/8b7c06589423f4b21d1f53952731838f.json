{"ast":null,"code":"var _jsxFileName = \"/Users/rhysjenkins/Code/mum-website/mum-site-frontend/src/views/PostsSection.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"../styles/PostsSection.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PostsSection = () => {\n  _s();\n\n  const [posts, setPosts] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const getPosts = async () => {\n      let response = await fetch(\"http://localhost:1337/api/posts\");\n      let postsData = await response.json();\n      setPosts(postsData.data);\n      setLoading(false);\n    };\n\n    getPosts();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: styles.postsSection,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Upcoming events\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.mainContainer,\n      children: loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Content is loading.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this) : posts.map(post => {\n        // console.log('post:', post.attributes.Date.split())\n        // if (post.attributes.Date) {\n        //     let dateFormatted = post.attributes.Date.split('').reverse().join()\n        //     console.log({dateFormatted})\n        // }\n        // console.log(new Date(post.attributes.Date).toLocaleDateString())\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.cardContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: post.attributes.Title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: post.attributes.Subheading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 29\n          }, this), post.attributes.Date ? /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: new Date(post.attributes.Date).toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 37\n          }, this) : null, /*#__PURE__*/_jsxDEV(Link, {\n            to: `/posts/${post.id}`,\n            children: \"View details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 29\n          }, this)]\n        }, post.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PostsSection, \"8KMmsdbzs4qPo4gpYy1Bkcs/WP8=\");\n\n_c = PostsSection;\nexport default PostsSection; // *** To do ***\n// Add a section header\n// Make a simple card design \n\nvar _c;\n\n$RefreshReg$(_c, \"PostsSection\");","map":{"version":3,"names":["useState","useEffect","Link","styles","PostsSection","posts","setPosts","loading","setLoading","getPosts","response","fetch","postsData","json","data","postsSection","mainContainer","map","post","cardContainer","attributes","Title","Subheading","Date","toLocaleDateString","id"],"sources":["/Users/rhysjenkins/Code/mum-website/mum-site-frontend/src/views/PostsSection.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport styles from \"../styles/PostsSection.module.scss\"\n\nconst PostsSection = () => {\n    const [posts, setPosts] = useState(null)\n    const [loading, setLoading] = useState(true)\n    \n    useEffect(() => {\n        const getPosts = async () => {\n            let response = await fetch(\"http://localhost:1337/api/posts\")\n            let postsData = await response.json()\n            setPosts(postsData.data)\n            setLoading(false)\n        }\n        getPosts()\n    }, [])\n\n    return (\n        <section className={styles.postsSection}>\n            <h2>Upcoming events</h2>\n            <div className={styles.mainContainer}>\n            {\n                loading ? \n                <p>Content is loading.</p>\n                :\n                posts.map((post) => {\n                    // console.log('post:', post.attributes.Date.split())\n                    // if (post.attributes.Date) {\n                    //     let dateFormatted = post.attributes.Date.split('').reverse().join()\n                    //     console.log({dateFormatted})\n                    // }\n                    // console.log(new Date(post.attributes.Date).toLocaleDateString())\n                    return (\n                        <div className={styles.cardContainer} key={post.id}>\n                            <h2>{post.attributes.Title}</h2>\n                            <h2>{post.attributes.Subheading}</h2>\n                            {\n                                post.attributes.Date ? \n                                    <h2>{new Date(post.attributes.Date).toLocaleDateString()}</h2>\n                                    :\n                                    null\n                            }\n                            \n                            {/* <h2>{post.attributes.Body}</h2> */}\n                            <Link to={`/posts/${post.id}`}>View details</Link>\n                        </div>\n                    )\n                })   \n            }\n            </div>\n        </section>\n    )\n}\n\nexport default PostsSection\n\n// *** To do ***\n// Add a section header\n// Make a simple card design "],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,oCAAnB;;;AAEA,MAAMC,YAAY,GAAG,MAAM;EAAA;;EACvB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,IAAD,CAAtC;EAEAC,SAAS,CAAC,MAAM;IACZ,MAAMQ,QAAQ,GAAG,YAAY;MACzB,IAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAD,CAA1B;MACA,IAAIC,SAAS,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAtB;MACAP,QAAQ,CAACM,SAAS,CAACE,IAAX,CAAR;MACAN,UAAU,CAAC,KAAD,CAAV;IACH,CALD;;IAMAC,QAAQ;EACX,CARQ,EAQN,EARM,CAAT;EAUA,oBACI;IAAS,SAAS,EAAEN,MAAM,CAACY,YAA3B;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAK,SAAS,EAAEZ,MAAM,CAACa,aAAvB;MAAA,UAEIT,OAAO,gBACP;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADO,GAGPF,KAAK,CAACY,GAAN,CAAWC,IAAD,IAAU;QAChB;QACA;QACA;QACA;QACA;QACA;QACA,oBACI;UAAK,SAAS,EAAEf,MAAM,CAACgB,aAAvB;UAAA,wBACI;YAAA,UAAKD,IAAI,CAACE,UAAL,CAAgBC;UAArB;YAAA;YAAA;YAAA;UAAA,QADJ,eAEI;YAAA,UAAKH,IAAI,CAACE,UAAL,CAAgBE;UAArB;YAAA;YAAA;YAAA;UAAA,QAFJ,EAIQJ,IAAI,CAACE,UAAL,CAAgBG,IAAhB,gBACI;YAAA,UAAK,IAAIA,IAAJ,CAASL,IAAI,CAACE,UAAL,CAAgBG,IAAzB,EAA+BC,kBAA/B;UAAL;YAAA;YAAA;YAAA;UAAA,QADJ,GAGI,IAPZ,eAWI,QAAC,IAAD;YAAM,EAAE,EAAG,UAASN,IAAI,CAACO,EAAG,EAA5B;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAXJ;QAAA,GAA2CP,IAAI,CAACO,EAAhD;UAAA;UAAA;UAAA;QAAA,QADJ;MAeH,CAtBD;IALJ;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAmCH,CAjDD;;GAAMrB,Y;;KAAAA,Y;AAmDN,eAAeA,YAAf,C,CAEA;AACA;AACA"},"metadata":{},"sourceType":"module"}